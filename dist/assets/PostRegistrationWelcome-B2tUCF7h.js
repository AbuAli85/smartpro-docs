import{v as P,r as d,j as e,b as n,w as h,h as f,U as v,K as b,T as j,f as l,k as _,B as w,A as N,E as p}from"./index-DIo96AMZ.js";import{trackLead as C,LeadStage as E,getLeadStatus as Y}from"./leadTrackingApi-sTmGH8fR.js";import{M as g}from"./message-square-BddXQQM2.js";function L({submissionId:s,email:c,userId:o,accountType:a="client",className:u}){const{t,language:A}=P(),[m,y]=d.useState(null),[R,x]=d.useState(!0);if(d.useEffect(()=>{(async()=>{if(!s){x(!1);return}try{o&&c&&(await C({submissionId:s,email:c,stage:E.REGISTRATION_COMPLETED,metadata:{platform_user_id:o,account_type:a,registered_at:new Date().toISOString()}}),p("registration_completed",{submission_id:s,user_id:o,account_type:a}));const r=await Y(s);r&&y(r)}catch(r){console.error("Error initializing welcome:",r)}finally{x(!1)}})()},[s,c,o,a]),R)return e.jsx(n,{className:h("p-6",u),children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})});const S=a==="client"?[{icon:f,title:t("postRegistration.client.completeProfile.title")||"Complete Your Profile",description:t("postRegistration.client.completeProfile.description")||"Add your business details and preferences",action:t("postRegistration.client.completeProfile.action")||"Go to Profile",href:"/profile"},{icon:v,title:t("postRegistration.client.findProviders.title")||"Find Service Providers",description:t("postRegistration.client.findProviders.description")||"Browse verified professionals for your needs",action:t("postRegistration.client.findProviders.action")||"Browse Providers",href:"/providers"},{icon:g,title:t("postRegistration.client.viewConsultation.title")||"View Your Consultation",description:t("postRegistration.client.viewConsultation.description")||"Track your consultation request status",action:t("postRegistration.client.viewConsultation.action")||"View Details",href:`/consultation/status/${s}`},{icon:b,title:t("postRegistration.client.bookService.title")||"Book Your First Service",description:t("postRegistration.client.bookService.description")||"Get started with your business needs",action:t("postRegistration.client.bookService.action")||"Book Now",href:"/services"}]:[{icon:f,title:t("postRegistration.provider.completeProfile.title")||"Complete Your Provider Profile",description:t("postRegistration.provider.completeProfile.description")||"Add your services, portfolio, and credentials",action:t("postRegistration.provider.completeProfile.action")||"Go to Profile",href:"/profile"},{icon:v,title:t("postRegistration.provider.setupServices.title")||"Set Up Your Services",description:t("postRegistration.provider.setupServices.description")||"Add services you offer and pricing",action:t("postRegistration.provider.setupServices.action")||"Add Services",href:"/services/setup"},{icon:b,title:t("postRegistration.provider.setAvailability.title")||"Set Your Availability",description:t("postRegistration.provider.setAvailability.description")||"Define when clients can book you",action:t("postRegistration.provider.setAvailability.action")||"Set Schedule",href:"/availability"},{icon:j,title:t("postRegistration.provider.startEarning.title")||"Start Earning",description:t("postRegistration.provider.startEarning.description")||"Get your first booking and start earning",action:t("postRegistration.provider.startEarning.action")||"View Dashboard",href:"/dashboard"}];return e.jsxs("div",{className:h("space-y-6",u),children:[e.jsx(n,{className:"p-8 bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 border-2 border-green-200",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:e.jsx(l,{className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(_,{className:"h-5 w-5 text-green-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t("postRegistration.welcome.title")||"Welcome to the Platform!"})]}),e.jsx("p",{className:"text-lg text-gray-700 mb-4",children:t("postRegistration.welcome.message")||"Your account has been successfully created. Your consultation request has been linked to your account."}),m&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(j,{className:"h-4 w-4"}),e.jsxs("span",{children:[t("postRegistration.welcome.progress")||"Your Progress",": ",e.jsxs("strong",{children:[m.progress,"%"]})]})]})]})]})}),s&&e.jsxs(n,{className:"p-6 border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(g,{className:"h-6 w-6 text-blue-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t("postRegistration.consultationStatus.title")||"Your Consultation Request"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:t("postRegistration.consultationStatus.submissionId")||"Submission ID"}),e.jsx("span",{className:"font-mono text-sm font-semibold text-gray-900",children:s.length>20?`${s.slice(0,8)}...${s.slice(-8)}`:s})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:t("postRegistration.consultationStatus.status")||"Status"}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-semibold",children:t("postRegistration.consultationStatus.active")||"Active"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-4",children:t("postRegistration.consultationStatus.message")||"Our team will review your consultation request and contact you within 24 hours. You can track the status in your dashboard."}),e.jsxs(w,{variant:"outline",className:"w-full mt-4",onClick:()=>{p("view_consultation_details",{submission_id:s,user_id:o}),window.location.href=`/consultation/status/${s}`},children:[t("postRegistration.consultationStatus.viewDetails")||"View Full Details",e.jsx(N,{className:"h-4 w-4 ml-2"})]})]})]}),e.jsxs(n,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:t("postRegistration.nextSteps.title")||"What's Next?"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:S.map((i,r)=>{const k=i.icon;return e.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all cursor-pointer group",onClick:()=>{p("post_registration_next_step_click",{step:i.title,account_type:a,submission_id:s}),i.href.startsWith("http")?window.open(i.href,"_blank"):window.location.href=i.href},children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:e.jsx(k,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:i.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:i.description}),e.jsxs(w,{variant:"ghost",size:"sm",className:"h-8 text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[i.action,e.jsx(N,{className:"h-3 w-3 ml-1"})]})]})]},r)})})]}),e.jsx(n,{className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(g,{className:"h-6 w-6 text-purple-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:t("postRegistration.followUp.title")||"We'll Follow Up With You"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(l,{className:"h-4 w-4 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:t("postRegistration.followUp.email")||"You'll receive an email confirmation shortly"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(l,{className:"h-4 w-4 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:t("postRegistration.followUp.consultation")||"Our team will contact you about your consultation within 24 hours"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(l,{className:"h-4 w-4 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:t("postRegistration.followUp.dashboard")||"Track everything in your dashboard"})]})]})]})]})})]})}export{L as PostRegistrationWelcome};
