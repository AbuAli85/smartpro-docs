import{y as u,Q as v,r as o,j as e,b as a,c as t,d as i,aO as N,e as r,B as n,W as y,D as f,C as w,M as b,K as S,aM as k}from"./index-DIo96AMZ.js";import{B as c}from"./badge-H49p9_qL.js";import{a as C}from"./services-DW1evicl.js";import{S as _,g as B}from"./service-images-D2dqDYpX.js";import{A as D}from"./arrow-left-DQhq1YZw.js";import{U as L}from"./user-BlDytmZH.js";function M(){const[,l]=u(),[P,d]=v("/marketplace/services/:id"),[s,h]=o.useState(null),[j,m]=o.useState(!0);if(o.useEffect(()=>{async function g(){if(d?.id)try{m(!0);const x=await C(d.id);h(x)}catch(x){k.error(x?.message||"Failed to load service"),l("/marketplace/services")}finally{m(!1)}}g()},[d?.id,l]),j)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading service..."})]})})});if(!s)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(a,{className:"border-red-200 bg-red-50",children:[e.jsxs(t,{children:[e.jsx(i,{className:"text-red-600",children:"Service Not Found"}),e.jsx(N,{children:"The service you're looking for doesn't exist."})]}),e.jsx(r,{children:e.jsx(n,{onClick:()=>l("/marketplace/services"),children:"Back to Services"})})]})});const p=()=>{if(s.approval_status==="pending")return e.jsx(c,{variant:"outline",className:"text-yellow-600 border-yellow-200 bg-yellow-50",children:"Pending Approval"});switch(s.status){case"active":return e.jsx(c,{variant:"outline",className:"text-green-600 border-green-200 bg-green-50",children:"Active"});case"suspended":return e.jsx(c,{variant:"outline",className:"text-red-600 border-red-200 bg-red-50",children:"Suspended"});case"inactive":return e.jsx(c,{variant:"outline",className:"text-gray-600 border-gray-200 bg-gray-50",children:"Inactive"});default:return e.jsx(c,{variant:"outline",children:"Unknown"})}};return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsxs(n,{variant:"ghost",size:"sm",onClick:()=>l("/marketplace/services"),children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Back to Services"]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.title}),p(),s.featured&&e.jsxs(c,{variant:"outline",className:"text-yellow-600 border-yellow-200 bg-yellow-50",children:[e.jsx(y,{className:"h-3 w-3 mr-1"}),"Featured"]})]}),e.jsx("p",{className:"text-gray-500",children:s.category})]}),e.jsxs(n,{onClick:()=>l(`/marketplace/services/${s.id}/edit`),children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Edit Service"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(a,{children:e.jsx(r,{className:"p-0",children:e.jsx("img",{src:B(s.category,s.title,s.cover_image_url,800,400),alt:s.title,className:"w-full h-64 object-cover rounded-t-lg"})})}),e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(i,{children:"Description"})}),e.jsx(r,{children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:s.description})})]}),s.requirements&&e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(i,{children:"Requirements"})}),e.jsx(r,{children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:s.requirements})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(i,{children:"Pricing"})}),e.jsxs(r,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(f,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"text-3xl font-bold",children:s.base_price}),e.jsx("span",{className:"text-gray-500",children:s.currency})]}),e.jsx(n,{className:"w-full",size:"lg",children:"Book This Service"})]})]}),e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(i,{children:"Service Details"})}),e.jsxs(r,{className:"space-y-4",children:[s.estimated_duration&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Duration"}),e.jsx("p",{className:"text-sm text-gray-500",children:s.estimated_duration})]})]}),s.location&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Location"}),e.jsx("p",{className:"text-sm text-gray-500",children:s.location})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Created"}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()})]})]})]})]}),e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(i,{children:"Provider"})}),e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(L,{className:"h-6 w-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.provider?.full_name||"Unknown"}),s.provider?.company_name&&e.jsx("p",{className:"text-sm text-gray-500",children:s.provider.company_name})]})]})})]})]})]})]})}export{M as default};
