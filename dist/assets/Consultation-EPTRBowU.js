import{m as ve,v as V,j as e,w as n,f as we,r as x,x as ae,y as Se,u as Te,b as Ce,z as ke,i as re,n as Ie,P as Ee,M as _e,B as Fe,E as R,I as ie,s as Ae,H as Le,F as Be}from"./index-DIo96AMZ.js";import{I as F}from"./input-XW9KhG0P.js";import{T as Oe}from"./textarea-DfCsO8IO.js";import{A as Me,a as Re}from"./alert-JIoMfrPb.js";import{S as A,a as L,b as B,c as O,d as M}from"./select-DyQSLHyb.js";import{L as v}from"./label-TTCYupU1.js";import{C as De}from"./checkbox-BbL1r8KU.js";import{C as Pe}from"./circle-BbbW2450.js";import{L as le}from"./loader-circle-DJBo0qB1.js";import{S as qe}from"./save-BoPC5hJ-.js";import{U as G}from"./user-BlDytmZH.js";import{B as oe}from"./building-2-mrA31mD0.js";import{M as Q}from"./message-square-BddXQQM2.js";import{C}from"./circle-x-DY0zhxzN.js";import{B as $e}from"./Breadcrumb-DgXmCfrs.js";const Ve=ve("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),He="http://localhost:3001/api";async function Ue(t,s={}){const f=`${He}${t}`,j={"Content-Type":"application/json"},b=localStorage.getItem("auth_token");b&&(j.Authorization=`Bearer ${b}`);const r={...s,headers:{...j,...s.headers}};try{const p=await fetch(f,r);if(!p.ok){const h=await p.json().catch(()=>({error:"Request failed",message:p.statusText}));throw new Error(h.message||h.error||"Request failed")}const d=p.headers.get("content-type");return d&&d.includes("application/json")?await p.json():{}}catch(p){throw p instanceof Error?p:new Error("Network error occurred")}}const ze={submit:async t=>Ue("/consultation",{method:"POST",body:JSON.stringify(t)})};function J(t){return!t||t.trim().length===0?!1:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function ne(t){if(!t||t.trim().length===0)return!0;const s=t.replace(/[\s\-\(\)\+]/g,"");return/^\d{7,15}$/.test(s)}function X(t){if(!t||t.trim().length===0)return!1;const s=t.trim();return s.length>=2&&s.length<=100}function ce(t){if(!t||t.trim().length===0)return!0;const s=t.trim();return s.length>=2&&s.length<=200}function me(t){if(!t||t.trim().length===0)return!0;const s=t.trim();return s.length>=2&&s.length<=200}function de(t){return!t||t.trim().length===0?!0:t.trim().length<=5e3}function K(t){return Array.isArray(t)&&t.length>0}function Ye({sections:t,currentSection:s,className:f}){const{t:j}=V(),b=t.filter(d=>d.completed).length,r=t.length,p=b/r*100;return e.jsxs("div",{className:n("w-full",f),children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:j("message.progress")||"Form Progress"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[b," of ",r," ",j("message.sectionsComplete")||"sections complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})})]}),e.jsx("div",{className:"flex flex-wrap gap-4",children:t.map((d,h)=>e.jsxs("div",{className:n("flex items-center gap-2 text-sm",d.completed?"text-green-600":s===d.id?"text-blue-600 font-medium":"text-gray-500"),children:[d.completed?e.jsx(we,{className:"h-4 w-4"}):e.jsx(Pe,{className:"h-4 w-4"}),e.jsx("span",{children:d.label})]},d.id))})]})}function Ge({sections:t,className:s}){const{t:f,language:j}=V(),b=j==="ar",[r,p]=x.useState(null);x.useEffect(()=>{const h=()=>{const y=window.scrollY+200;for(const w of t){const N=document.getElementById(`section-${w.id}`);if(N){const{offsetTop:g,offsetHeight:o}=N;if(y>=g&&y<g+o){p(w.id);break}}}};return window.addEventListener("scroll",h),h(),()=>window.removeEventListener("scroll",h)},[t]);const d=h=>{const y=document.getElementById(`section-${h}`);if(y){const g=y.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:g,behavior:"smooth"}),setTimeout(()=>{const o=y.querySelector("input, textarea, select, button");o&&o.focus()},500)}};return e.jsxs("nav",{className:n("sticky top-4 z-40","bg-white rounded-lg border border-slate-200 shadow-sm","p-4 mb-6","hidden lg:block",s),"aria-label":f("accessibility.formNavigation")||"Form section navigation",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-3",children:f("consultation.form.navigation")||"Quick Navigation"}),e.jsx("ul",{className:"space-y-2",role:"list",children:t.map(h=>{const y=h.icon,w=r===h.id,N=h.completed;return e.jsx("li",{role:"listitem",children:e.jsxs("button",{onClick:()=>d(h.id),className:n("w-full flex items-center gap-3 px-3 py-2 rounded-md","text-sm font-medium transition-all","hover:bg-slate-50","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",w?"bg-blue-50 text-blue-700 border-l-2 border-blue-600":"text-gray-700",N&&!w&&"text-green-700"),"aria-current":w?"true":void 0,"aria-label":`${f("accessibility.goToSection")||"Go to"} ${h.label}`,children:[e.jsx(y,{className:n("h-4 w-4 flex-shrink-0",w?"text-blue-600":"text-gray-400",N&&!w&&"text-green-600"),"aria-hidden":"true"}),e.jsx("span",{className:"flex-1 text-left",children:h.label}),N&&e.jsx("span",{className:"text-xs text-green-600","aria-label":f("accessibility.completed")||"Completed",children:"✓"}),b?e.jsx(ae,{className:"h-4 w-4 rotate-180","aria-hidden":"true"}):e.jsx(ae,{className:"h-4 w-4","aria-hidden":"true"})]})},h.id)})})]})}const Qe=["companyFormation","proServices","accounting","vat","businessConsulting","employeeManagement","crm","projectManagement","elearning","contractManagement","workflowAutomation","analytics","api","support","other"],Je=["soleProprietorship","llc","partnership","corporation","freelancer","other"],Xe=["under5k","5k-10k","10k-25k","25k-50k","50k-100k","over100k","notSure"],Ke=["immediate","1-3months","3-6months","6-12months","planning"],We=["email","phone","both"],Ze=["morning","afternoon","evening","flexible"],W="consultation_form_draft",$=5e3,es=1e3;function ss({className:t}){const{t:s,language:f}=V(),[,j]=Se(),b=x.useRef(null),[r,p]=x.useState({name:"",email:"",phone:"",company:"",businessType:"",services:[],budget:"",timeline:"",preferredContact:"",preferredTime:"",location:"",message:""}),[d,h]=x.useState(!1),[y,w]=x.useState(!1),[N,g]=x.useState(null),[o,D]=x.useState({}),[as,P]=x.useState(new Set),[ue,xe]=x.useState(null),[H,q]=x.useState("idle"),E=x.useRef(null),[rs,T]=x.useState(null),[Z]=x.useState(Date.now()),[he,pe]=x.useState({}),l=f==="ar";x.useEffect(()=>{try{const a=localStorage.getItem(W);if(a){const i=JSON.parse(a);i.timestamp&&Date.now()-i.timestamp<10080*60*1e3&&p(i.data)}}catch(a){console.error("Failed to load draft:",a)}},[]),x.useEffect(()=>{if(E.current&&clearTimeout(E.current),!(!(r.name||r.email||r.message)||y))return q("saving"),E.current=setTimeout(()=>{try{localStorage.setItem(W,JSON.stringify({data:r,timestamp:Date.now()})),q("saved"),setTimeout(()=>q("idle"),2e3)}catch(i){console.error("Failed to save draft:",i),q("idle")}},es),()=>{E.current&&clearTimeout(E.current)}},[r,y]);const ee=x.useMemo(()=>{const a=X(r.name)&&J(r.email),i=!!(r.company||r.businessType),m=K(r.services)===!0,c=!!(r.message||r.budget||r.timeline);return[{id:"contact",label:s("section.contactInfo"),completed:a},{id:"business",label:s("section.businessInfo"),completed:i},{id:"services",label:s("section.serviceDetails"),completed:m},{id:"additional",label:s("section.additionalInfo"),completed:c}]},[r,s]),k=a=>{const{name:i,value:m}=a.target;pe(c=>({...c,[i]:(c[i]||0)+1})),!(i==="message"&&m.length>$)&&(p(c=>({...c,[i]:m})),P(c=>new Set(c).add(i)),o[i]&&D(c=>{const u={...c};return delete u[i],u}),N&&g(null))},I=(a,i)=>{P(m=>new Set(m).add(a)),U(a,i),i&&typeof i=="string"&&i.trim()&&R("consultation_field_completed",{field_name:a,has_value:!0})},U=(a,i)=>{let m=null;switch(a){case"name":(!i||!X(i))&&(m=s("message.error.name"));break;case"email":(!i||!J(i))&&(m=s("message.error.email"));break;case"phone":i&&!ne(i)&&(m=s("message.error.phone"));break;case"company":i&&!ce(i)&&(m=s("message.error.company"));break;case"location":i&&!me(i)&&(m=s("message.error.location"));break;case"message":i&&!de(i)&&(m=s("message.error.message"));break;case"services":K(i)||(m=s("message.error.services"));break}return m?(D(c=>({...c,[a]:m})),!1):(D(c=>{const u={...c};return delete u[a],u}),!0)},_=a=>i=>{p(m=>({...m,[a]:i})),P(m=>new Set(m).add(a)),U(a,i),N&&g(null)},ge=(a,i)=>{p(m=>{const c=i?[...m.services,a]:m.services.filter(u=>u!==a);return setTimeout(()=>{U("services",c)},0),{...m,services:c}}),P(m=>new Set(m).add("services")),N&&g(null)},fe=()=>{const a=Object.keys(o)[0];if(a){const i=document.getElementById(a);if(i){i.scrollIntoView({behavior:"smooth",block:"center"}),(i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement||i instanceof HTMLButtonElement)&&setTimeout(()=>i.focus(),100);return}}b.current?.scrollIntoView({behavior:"smooth",block:"start"})},be=()=>{const a={};if(X(r.name)||(a.name=s("message.error.name")),(!r.email||!J(r.email))&&(a.email=s("message.error.email")),K(r.services)||(a.services=s("message.error.services")),r.phone&&!ne(r.phone)&&(a.phone=s("message.error.phone")),r.company&&!ce(r.company)&&(a.company=s("message.error.company")),r.location&&!me(r.location)&&(a.location=s("message.error.location")),r.message&&!de(r.message)&&(a.message=s("message.error.message")),D(a),Object.keys(a).length>0){const i=Object.values(a)[0];return g(i),setTimeout(fe,100),!1}return g(null),!0},je=()=>({name:r.name.trim(),email:r.email.trim(),phone:r.phone?.trim()||void 0,company:r.company?.trim()||void 0,businessType:r.businessType||void 0,services:r.services,budget:r.budget||void 0,timeline:r.timeline||void 0,preferredContact:r.preferredContact||void 0,preferredTime:r.preferredTime||void 0,location:r.location?.trim()||void 0,message:r.message?.trim()||void 0,language:f}),se=async a=>{if(a.preventDefault(),d||y){console.warn("Form submission already in progress or completed, ignoring duplicate submit");return}const i=localStorage.getItem("lastConsultationSubmitTime");if(i&&Date.now()-parseInt(i)<2e3){console.warn("Form submitted too quickly, ignoring duplicate submit");return}R("consultation_form_submit_attempt",{services_count:r.services.length,has_optional_fields:!!(r.phone||r.company||r.message)}),g(null),w(!1),localStorage.setItem("lastConsultationSubmitTime",Date.now().toString());const m=parseInt(localStorage.getItem("submitAttempts")||"0");if(m>=3){const c=localStorage.getItem("lastFormSubmitTime");if(c)if(Date.now()-parseInt(c)<6e4){g(s("message.error.rateLimit"));return}else localStorage.removeItem("submitAttempts"),localStorage.removeItem("lastFormSubmitTime")}if(be()){h(!0);try{const c=je(),u=await ze.submit(c);if(u.success){const Y=Math.round((Date.now()-Z)/1e3);ie("consultation_form",{services_count:r.services.length,has_budget:!!r.budget,has_timeline:!!r.timeline,language:f,submission_id:u.submissionId,execution_id:u.executionId,form_completion_time_seconds:Y,total_field_interactions:Object.values(he).reduce((S,Ne)=>S+Ne,0),fields_completed:Object.keys(r).filter(S=>r[S]&&(typeof r[S]!="object"||Array.isArray(r[S])&&r[S].length>0)).length}),xe(r.name.trim()),localStorage.removeItem(W),localStorage.removeItem("submitAttempts"),localStorage.removeItem("lastFormSubmitTime"),localStorage.removeItem("lastConsultationSubmitTime"),p({name:"",email:"",phone:"",company:"",businessType:"",services:[],budget:"",timeline:"",preferredContact:"",preferredTime:"",location:"",message:""}),w(!0),setTimeout(()=>{const S=new URLSearchParams;u.submissionId&&S.set("id",u.submissionId),u.executionId&&S.set("execution",u.executionId),r.email&&S.set("email",r.email),j(`/consultation/thanks?${S.toString()}`)},2e3)}else{const Y=u.message||s("message.error");g(Y),localStorage.setItem("submitAttempts",(m+1).toString()),localStorage.setItem("lastFormSubmitTime",Date.now().toString())}}catch(c){console.error("Error submitting form:",c);const u=c instanceof Error?c.message:"unknown";ie("consultation_form_error",{error_type:u,form_completion_time_seconds:Math.round((Date.now()-Z)/1e3)}),c instanceof Error?c.message.includes("timeout")||c.message.includes("network")?g(s("message.error.network")+" "+(s("message.error.retry")||"Please check your connection and try again.")):c.message.includes("rate limit")||c.message.includes("too many")?g(s("message.error.rateLimit")):g(c.message||s("message.error.network")):g(s("message.error.network")+" "+(s("message.error.retry")||"Please try again.")),localStorage.setItem("submitAttempts",(m+1).toString()),localStorage.setItem("lastFormSubmitTime",Date.now().toString()),R("consultation_form_error",{error_type:u,attempt_number:m+1})}finally{h(!1)}}},te=r.message.length,z=te>$,ye=({current:a,max:i,className:m})=>{const c=i-a,u=a>i;return e.jsx("span",{className:n("text-xs mt-1",u?"text-red-500":"text-gray-500",m),children:u?e.jsxs(e.Fragment,{children:[Math.abs(c)," ",s("message.charactersOver")]}):e.jsxs(e.Fragment,{children:[c," ",s("message.charactersRemaining")]})})};return y?e.jsxs("div",{className:"text-center p-8",children:[e.jsx(Te,{className:"mx-auto h-16 w-16 text-green-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s("consultation.form.successTitle",{name:ue||s("consultation.form.dearCustomer")})}),e.jsx("p",{className:"text-gray-600 mb-4",children:s("consultation.form.successMessage")}),e.jsx("p",{className:"text-sm text-gray-500",children:s("consultation.form.redirecting")})]}):e.jsx(Ce,{className:n("p-6 md:p-8",t),children:e.jsxs("form",{ref:b,onSubmit:se,className:"space-y-8",dir:l?"rtl":"ltr",noValidate:!0,"aria-label":s("consultation.form.title"),children:[H!=="idle"&&e.jsx("div",{className:n("flex items-center gap-2 text-xs transition-opacity",H==="saving"?"opacity-70":"opacity-100"),children:H==="saving"?e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"h-3 w-3 animate-spin text-blue-500"}),e.jsx("span",{className:"text-gray-600",children:s("message.saving")})]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-3 w-3 text-green-500"}),e.jsx("span",{className:"text-green-600",children:s("message.saved")})]})}),e.jsx(Ye,{sections:ee}),N&&e.jsxs(Me,{variant:"destructive",role:"alert","aria-live":"assertive",className:"animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsx(ke,{className:"h-4 w-4","aria-hidden":"true"}),e.jsxs(Re,{id:"form-error-message",children:[N,N.includes("network")&&e.jsx("button",{type:"button",onClick:se,className:"ml-2 underline hover:no-underline focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 rounded","aria-label":s("button.retry")||"Retry submission",children:s("button.retry")||"Retry"})]})]}),e.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-6",children:[e.jsx("aside",{className:"lg:col-span-3 hidden lg:block",children:e.jsx(Ge,{sections:ee.map(a=>({id:a.id,label:a.label,icon:a.id==="contact"?G:a.id==="business"?oe:a.id==="services"?re:Q,completed:a.completed}))})}),e.jsxs("div",{className:"lg:col-span-9 space-y-8",children:[e.jsxs("section",{id:"section-contact",className:"space-y-6",onFocus:()=>T("contact"),onBlur:()=>T(null),"aria-labelledby":"section-contact-heading",children:[e.jsxs("div",{className:n("flex items-center gap-3 pb-2 border-b",l&&"flex-row-reverse"),children:[e.jsx(G,{className:"h-5 w-5 text-blue-600","aria-hidden":"true"}),e.jsx("h3",{id:"section-contact-heading",className:"text-xl font-semibold text-gray-900",children:s("section.contactInfo")})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(v,{htmlFor:"name",className:n(l&&"text-right"),children:[s("form.name")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:n("absolute top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400",l?"right-3":"left-3")}),e.jsx(F,{id:"name",name:"name",type:"text",value:r.name,onChange:k,onBlur:a=>I("name",a.target.value),placeholder:s("placeholder.name"),disabled:d,required:!0,dir:l?"rtl":"ltr",className:n(l?"pr-10":"pl-10",o.name&&"border-red-500 focus:border-red-500 focus:ring-red-500"),"aria-invalid":!!o.name,"aria-describedby":o.name?"name-error":void 0})]}),o.name&&e.jsxs("p",{id:"name-error",className:"text-sm text-red-500 flex items-center gap-1",role:"alert",children:[e.jsx(C,{className:"h-3 w-3"}),o.name]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(v,{htmlFor:"email",className:n(l&&"text-right"),children:[s("form.email")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ie,{className:n("absolute top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400",l?"right-3":"left-3")}),e.jsx(F,{id:"email",name:"email",type:"email",value:r.email,onChange:k,onBlur:a=>I("email",a.target.value),placeholder:s("placeholder.email"),disabled:d,required:!0,dir:"ltr",className:n(l?"pr-10":"pl-10",o.email&&"border-red-500 focus:border-red-500 focus:ring-red-500"),"aria-invalid":!!o.email,"aria-describedby":o.email?"email-error":void 0})]}),o.email&&e.jsxs("p",{id:"email-error",className:"text-sm text-red-500 flex items-center gap-1",role:"alert",children:[e.jsx(C,{className:"h-3 w-3"}),o.email]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(v,{htmlFor:"phone",className:n(l&&"text-right"),children:[s("form.phone")," ",e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",s("form.optional"),")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{className:n("absolute top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400",l?"right-3":"left-3")}),e.jsx(F,{id:"phone",name:"phone",type:"tel",value:r.phone,onChange:k,onBlur:a=>I("phone",a.target.value),placeholder:s("placeholder.phone"),disabled:d,dir:"ltr",className:n(l?"pr-10":"pl-10",o.phone&&"border-red-500 focus:border-red-500 focus:ring-red-500"),"aria-invalid":!!o.phone,"aria-describedby":o.phone?"phone-error":void 0})]}),o.phone&&e.jsxs("p",{id:"phone-error",className:"text-sm text-red-500 flex items-center gap-1",role:"alert",children:[e.jsx(C,{className:"h-3 w-3"}),o.phone]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(v,{htmlFor:"location",className:n(l&&"text-right"),children:[s("form.location")," ",e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",s("form.optional"),")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:n("absolute top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400",l?"right-3":"left-3")}),e.jsx(F,{id:"location",name:"location",type:"text",value:r.location,onChange:k,onBlur:a=>I("location",a.target.value),placeholder:s("placeholder.location"),disabled:d,dir:l?"rtl":"ltr",className:n(l?"pr-10":"pl-10",o.location&&"border-red-500 focus:border-red-500 focus:ring-red-500"),"aria-invalid":!!o.location,"aria-describedby":o.location?"location-error":void 0})]}),o.location&&e.jsxs("p",{id:"location-error",className:"text-sm text-red-500 flex items-center gap-1",role:"alert",children:[e.jsx(C,{className:"h-3 w-3"}),o.location]})]})]})]}),e.jsxs("section",{id:"section-business",className:"space-y-6",onFocus:()=>T("business"),onBlur:()=>T(null),"aria-labelledby":"section-business-heading",children:[e.jsxs("div",{className:n("flex items-center gap-3 pb-2 border-b",l&&"flex-row-reverse"),children:[e.jsx(oe,{className:"h-5 w-5 text-blue-600","aria-hidden":"true"}),e.jsx("h3",{id:"section-business-heading",className:"text-xl font-semibold text-gray-900",children:s("section.businessInfo")})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(v,{htmlFor:"company",className:n(l&&"text-right"),children:[s("form.company")," ",e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",s("form.optional"),")"]})]}),e.jsx(F,{id:"company",name:"company",type:"text",value:r.company,onChange:k,onBlur:a=>I("company",a.target.value),placeholder:s("placeholder.company"),disabled:d,dir:l?"rtl":"ltr",className:n(o.company&&"border-red-500 focus:border-red-500 focus:ring-red-500"),"aria-invalid":!!o.company,"aria-describedby":o.company?"company-error":void 0}),o.company&&e.jsxs("p",{id:"company-error",className:"text-sm text-red-500 flex items-center gap-1",role:"alert",children:[e.jsx(C,{className:"h-3 w-3"}),o.company]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(v,{htmlFor:"businessType",className:n(l&&"text-right"),children:[s("form.businessType")," ",e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",s("form.optional"),")"]})]}),e.jsxs(A,{value:r.businessType,onValueChange:_("businessType"),disabled:d,children:[e.jsx(L,{id:"businessType",className:"w-full",dir:l?"rtl":"ltr",children:e.jsx(B,{placeholder:s("button.select")})}),e.jsx(O,{dir:l?"rtl":"ltr",children:Je.map(a=>e.jsx(M,{value:a,children:s(`businessType.${a}`)},a))})]})]})]})]}),e.jsxs("section",{id:"section-services",className:"space-y-6",onFocus:()=>T("services"),onBlur:()=>T(null),"aria-labelledby":"section-services-heading",children:[e.jsxs("div",{className:n("flex items-center gap-3 pb-2 border-b",l&&"flex-row-reverse"),children:[e.jsx(re,{className:"h-5 w-5 text-blue-600","aria-hidden":"true"}),e.jsx("h3",{id:"section-services-heading",className:"text-xl font-semibold text-gray-900",children:s("section.serviceDetails")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(v,{className:n(l&&"text-right"),children:[s("form.services")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:Qe.map(a=>e.jsxs("div",{className:n("flex items-center gap-2",l&&"flex-row-reverse"),children:[e.jsx(De,{id:a,checked:r.services.includes(a),onCheckedChange:i=>ge(a,i),disabled:d}),e.jsx(v,{htmlFor:a,className:"text-sm font-normal cursor-pointer",children:s(`service.${a}`)})]},a))}),o.services&&e.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1 mt-2",role:"alert",children:[e.jsx(C,{className:"h-3 w-3"}),o.services]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(v,{htmlFor:"budget",className:n(l&&"text-right"),children:[s("form.budget")," ",e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",s("form.optional"),")"]})]}),e.jsxs(A,{value:r.budget,onValueChange:_("budget"),disabled:d,children:[e.jsx(L,{id:"budget",className:"w-full",dir:l?"rtl":"ltr",children:e.jsx(B,{placeholder:s("button.select")})}),e.jsx(O,{dir:l?"rtl":"ltr",children:Xe.map(a=>e.jsx(M,{value:a,children:s(`budget.${a}`)},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(v,{htmlFor:"timeline",className:n(l&&"text-right"),children:[s("form.timeline")," ",e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",s("form.optional"),")"]})]}),e.jsxs(A,{value:r.timeline,onValueChange:_("timeline"),disabled:d,children:[e.jsx(L,{id:"timeline",className:"w-full",dir:l?"rtl":"ltr",children:e.jsx(B,{placeholder:s("button.select")})}),e.jsx(O,{dir:l?"rtl":"ltr",children:Ke.map(a=>e.jsx(M,{value:a,children:s(`timeline.${a}`)},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(v,{htmlFor:"preferredContact",className:n(l&&"text-right"),children:[s("form.preferredContact")," ",e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",s("form.optional"),")"]})]}),e.jsxs(A,{value:r.preferredContact,onValueChange:_("preferredContact"),disabled:d,children:[e.jsx(L,{id:"preferredContact",className:"w-full",dir:l?"rtl":"ltr",children:e.jsx(B,{placeholder:s("button.select")})}),e.jsx(O,{dir:l?"rtl":"ltr",children:We.map(a=>e.jsx(M,{value:a,children:s(`contact.${a}`)},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(v,{htmlFor:"preferredTime",className:n(l&&"text-right"),children:[s("form.preferredTime")," ",e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",s("form.optional"),")"]})]}),e.jsxs(A,{value:r.preferredTime,onValueChange:_("preferredTime"),disabled:d,children:[e.jsx(L,{id:"preferredTime",className:"w-full",dir:l?"rtl":"ltr",children:e.jsx(B,{placeholder:s("button.select")})}),e.jsx(O,{dir:l?"rtl":"ltr",children:Ze.map(a=>e.jsx(M,{value:a,children:s(`time.${a}`)},a))})]})]})]})]}),e.jsxs("section",{id:"section-additional",className:"space-y-6",onFocus:()=>T("additional"),onBlur:()=>T(null),"aria-labelledby":"section-additional-heading",children:[e.jsxs("div",{className:n("flex items-center gap-3 pb-2 border-b",l&&"flex-row-reverse"),children:[e.jsx(Q,{className:"h-5 w-5 text-blue-600","aria-hidden":"true"}),e.jsx("h3",{id:"section-additional-heading",className:"text-xl font-semibold text-gray-900",children:s("section.additionalInfo")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(v,{htmlFor:"message",className:n(l&&"text-right"),children:[s("form.message")," ",e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",s("form.optional"),")"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:n("absolute top-3 h-4 w-4 text-gray-400",l?"right-3":"left-3")}),e.jsx(Oe,{id:"message",name:"message",value:r.message,onChange:k,onBlur:a=>I("message",a.target.value),placeholder:s("placeholder.message"),rows:5,disabled:d,dir:l?"rtl":"ltr",className:n(l?"pr-10":"pl-10",o.message&&"border-red-500 focus:border-red-500 focus:ring-red-500",z&&"border-red-500"),"aria-invalid":!!o.message||z,"aria-describedby":o.message||z?"message-error":void 0,maxLength:$})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[o.message&&e.jsxs("p",{id:"message-error",className:"text-sm text-red-500 flex items-center gap-1",role:"alert",children:[e.jsx(C,{className:"h-3 w-3"}),o.message]}),e.jsx(ye,{current:te,max:$})]})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx(Fe,{type:"submit",disabled:d,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 text-base font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed","aria-busy":d,"aria-live":"polite",children:d?e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}),e.jsx("span",{children:s("button.submitting")})]}):e.jsx("span",{children:s("button.submit")})}),!y&&!d&&e.jsx("p",{className:"text-xs text-center text-gray-500 mt-2",role:"status",children:s("message.formCompletionEstimate")||"Estimated completion time: 3-5 minutes"})]})]})]})]})})}function ts({className:t,threshold:s=400}){const[f,j]=x.useState(!1);x.useEffect(()=>{const r=()=>{window.pageYOffset>s?j(!0):j(!1)};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[s]);const b=()=>{window.scrollTo({top:0,behavior:"smooth"})};return f?e.jsx("button",{onClick:b,className:n("fixed bottom-6 right-6 z-50","flex items-center justify-center","w-12 h-12 rounded-full","bg-blue-600 hover:bg-blue-700 text-white","shadow-lg shadow-blue-900/30","transition-all duration-300","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","hover:scale-110 active:scale-95",t),"aria-label":"Back to top",title:"Back to top",children:e.jsx(Ve,{className:"h-5 w-5","aria-hidden":"true"})}):null}function ys(){const{t,language:s}=V(),f=s==="ar",j=x.useRef(null);x.useEffect(()=>{Ae({title:`${t("consultation.form.title")} | Smartpro Business Hub & Services`,description:t("consultation.subtitle"),keywords:"business consulting, company setup, PRO services, accounting, VAT, business formation, UAE business services, Smartpro Business Hub",type:"website",url:"https://smartpro-docs.vercel.app/consultation"}),R("consultation_page_view",{language:s,timestamp:new Date().toISOString()})},[t,s]);const b=()=>{j.current?.scrollIntoView({behavior:"smooth",block:"start"}),R("consultation_cta_click",{cta_location:"hero",cta_type:"primary"})};return e.jsxs(e.Fragment,{children:[e.jsx(Le,{}),e.jsx("a",{href:"#consultation-form",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:r=>{r.preventDefault(),b()},children:t("accessibility.skipToForm")||"Skip to consultation form"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",dir:f?"rtl":"ltr",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-6",children:e.jsx($e,{items:[{label:t("consultation.form.title")||"Free Consultation"}]})}),e.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-16 md:py-24 px-4","aria-label":t("consultation.title"),children:e.jsxs("div",{className:"max-w-5xl mx-auto text-center space-y-6",children:[e.jsx("p",{className:"inline-flex items-center rounded-full border border-white/20 bg-white/10 px-4 py-1 text-xs md:text-sm font-medium uppercase tracking-wide",children:t("consultation.heroBadge")}),e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-extrabold leading-tight",children:t("consultation.title")}),e.jsx("p",{className:"text-lg md:text-2xl text-blue-100 max-w-3xl mx-auto",children:t("consultation.subtitle")}),e.jsx("p",{className:"text-base md:text-lg text-blue-200 max-w-3xl mx-auto",children:t("consultation.description")}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 pt-4",children:[e.jsx("button",{onClick:b,className:"inline-flex items-center justify-center rounded-lg bg-white px-6 py-3 text-sm md:text-base font-semibold text-blue-700 shadow-lg shadow-blue-900/20 hover:bg-blue-50 transition focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-blue-600","aria-label":t("consultation.primaryCta"),children:t("consultation.primaryCta")}),e.jsx("p",{className:"text-xs md:text-sm text-blue-100",children:t("consultation.heroNote")})]})]})}),e.jsx("section",{ref:j,id:"consultation-form",className:"max-w-4xl mx-auto px-4 py-12 md:py-16 -mt-8 md:-mt-12 relative z-10","aria-labelledby":"consultation-form-title",children:e.jsxs("div",{className:"bg-white shadow-xl shadow-slate-900/5 rounded-2xl border border-slate-100 p-6 md:p-8",children:[e.jsxs("div",{className:"text-center mb-8 space-y-2",children:[e.jsx("h2",{id:"consultation-form-title",className:"text-2xl md:text-3xl font-bold text-gray-900",children:t("consultation.form.title")}),e.jsx("p",{className:"text-sm md:text-base text-gray-600",children:t("consultation.form.subtitle")})]}),e.jsx(ss,{})]})}),e.jsx("section",{className:"max-w-5xl mx-auto px-4 pb-8 md:pb-12","aria-labelledby":"consultation-info-title",children:e.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl border border-slate-100 p-6 md:p-7 shadow-sm",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 mb-3",children:t("consultation.whoTitle")}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t("consultation.whoIntro")}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{children:["• ",t("consultation.whoItem1")]}),e.jsxs("li",{children:["• ",t("consultation.whoItem2")]}),e.jsxs("li",{children:["• ",t("consultation.whoItem3")]}),e.jsxs("li",{children:["• ",t("consultation.whoItem4")]})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl border border-slate-100 p-6 md:p-7 shadow-sm",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 mb-3",children:t("consultation.outcomesTitle")}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t("consultation.outcomesIntro")}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{children:["• ",t("consultation.outcome1")]}),e.jsxs("li",{children:["• ",t("consultation.outcome2")]}),e.jsxs("li",{children:["• ",t("consultation.outcome3")]}),e.jsxs("li",{children:["• ",t("consultation.outcome4")]})]})]})]})}),e.jsx("section",{className:"max-w-5xl mx-auto px-4 pb-10 md:pb-14","aria-labelledby":"consultation-steps-title",children:e.jsxs("div",{className:"bg-slate-900 rounded-2xl text-white p-6 md:p-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{id:"consultation-steps-title",className:"text-xl md:text-2xl font-semibold mb-1",children:t("consultation.stepsTitle")}),e.jsx("p",{className:"text-sm md:text-base text-slate-200",children:t("consultation.stepsSubtitle")})]}),e.jsx("button",{onClick:b,className:"inline-flex items-center justify-center rounded-lg bg-white/10 px-4 py-2 text-xs md:text-sm font-medium text-slate-50 border border-white/20 hover:bg-white/20 transition focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-slate-900","aria-label":t("consultation.stepsCta"),children:t("consultation.stepsCta")})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-xl bg-slate-800/60 border border-slate-700 p-4",children:[e.jsxs("p",{className:"text-xs font-semibold text-slate-300 mb-1 uppercase tracking-wide",children:["1 · ",t("consultation.step1Label")]}),e.jsx("p",{className:"text-sm text-slate-100",children:t("consultation.step1Text")})]}),e.jsxs("div",{className:"rounded-xl bg-slate-800/60 border border-slate-700 p-4",children:[e.jsxs("p",{className:"text-xs font-semibold text-slate-300 mb-1 uppercase tracking-wide",children:["2 · ",t("consultation.step2Label")]}),e.jsx("p",{className:"text-sm text-slate-100",children:t("consultation.step2Text")})]}),e.jsxs("div",{className:"rounded-xl bg-slate-800/60 border border-slate-700 p-4",children:[e.jsxs("p",{className:"text-xs font-semibold text-slate-300 mb-1 uppercase tracking-wide",children:["3 · ",t("consultation.step3Label")]}),e.jsx("p",{className:"text-sm text-slate-100",children:t("consultation.step3Text")})]})]})]})}),e.jsx("section",{className:"max-w-4xl mx-auto px-4 pb-16 md:pb-20","aria-labelledby":"consultation-faq-title",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 md:p-8 shadow-sm",children:[e.jsx("h3",{id:"consultation-faq-title",className:"text-xl md:text-2xl font-semibold text-gray-900 mb-4",children:t("consultation.faqTitle")}),e.jsxs("div",{className:"space-y-4 text-sm md:text-base text-gray-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:t("consultation.faq1Question")}),e.jsx("p",{className:"text-gray-600",children:t("consultation.faq1Answer")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:t("consultation.faq2Question")}),e.jsx("p",{className:"text-gray-600",children:t("consultation.faq2Answer")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:t("consultation.faq3Question")}),e.jsx("p",{className:"text-gray-600",children:t("consultation.faq3Answer")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:t("consultation.faq4Question")}),e.jsx("p",{className:"text-gray-600",children:t("consultation.faq4Answer")})]})]})]})})]}),e.jsx(ts,{}),e.jsx(Be,{})]})}export{ys as default};
