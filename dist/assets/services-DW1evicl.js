import{aP as t}from"./index-DIo96AMZ.js";async function n(e){let r=t.from("services").select("*, provider:profiles(*)").eq("status",e?.status||"active");e?.category&&(r=r.eq("category",e.category)),e?.provider_id&&(r=r.eq("provider_id",e.provider_id)),e?.search&&(r=r.ilike("title",`%${e.search}%`));const o=e?.page||1,i=e?.limit||20,{data:s,error:c}=await r.range((o-1)*i,o*i-1).order("created_at",{ascending:!1});if(c)throw console.error("Error fetching services:",c),c;return s||[]}async function d(e){const{data:r,error:o}=await t.from("services").select("*, provider:profiles(*)").eq("id",e).single();if(o)throw console.error("Error fetching service:",o),o;return r}async function p(e){const{data:r,error:o}=await t.from("services").insert({...e,currency:e.currency||"OMR",status:"pending",approval_status:"pending"}).select("*, provider:profiles(*)").single();if(o)throw console.error("Error creating service:",o),o;return r}async function v(e,r){const{data:o,error:i}=await t.from("services").update(r).eq("id",e).select("*, provider:profiles(*)").single();if(i)throw console.error("Error updating service:",i),i;return o}async function u(e){const{error:r}=await t.from("services").delete().eq("id",e);if(r)throw console.error("Error deleting service:",r),r}export{d as a,p as c,u as d,n as g,v as u};
